import{d as m,g as _,q as f,a as r,v as d,_ as b,c as o,b as t,r as c,x as u,I as w,y,A as S,o as i,t as a}from"./index-bpNO_8uP.js";import{S as x,a as L}from"./SectionHeader-C4vtWxD-.js";import{S as g}from"./sweetalert2.esm.all-DzlfzZPw.js";const v=m({components:{SectionSidebar:L,SectionHeader:x},data(){return{admin:{},logs:[]}},methods:{async fetchAllLogs(){await r.get(d().api_main+"activity/fetchAll").then(async e=>{this.logs=e.data})},async deleteLogs(e){g.fire({title:"Confirmation",text:"Delete "+(e==null?void 0:e.title)+"?",icon:"question",confirmButtonText:"Delete",showCancelButton:!0}).then(async n=>{n.isConfirmed&&await r.get(d().api_main+"activity/delete?dataid="+(e==null?void 0:e.dataid)).then(async()=>{await this.fetchAllLogs()})})}},async mounted(){await _().then(async e=>{e?(this.admin=e,await this.fetchAllLogs().then(async()=>{console.log("Logs:",f(this.$data))})):this.$router.replace("/")})}}),$={class:"layout-wrapper layout-content-navbar"},C={class:"layout-container"},D={class:"layout-page"},k={class:"content-wrapper"},A={class:"container-xxl flex-grow-1 container-p-y"},B={class:"card"},N={class:"table-responsive text-nowrap"},T={class:"table"},H=["onClick"];function V(e,n,q,M,E,F){const p=u("SectionSidebar"),h=u("SectionHeader");return i(),o("div",$,[t("div",C,[c(p),t("div",D,[c(h,{onOpen_notif:n[0]||(n[0]=()=>{e.$emit("open_notif")})}),t("div",k,[t("div",A,[n[3]||(n[3]=t("h4",{class:"fw-bold py-3 mb-4"},[t("span",{class:"text-muted fw-light"},"Activity Logs /"),w(" Masterlist")],-1)),t("div",B,[n[2]||(n[2]=t("h5",{class:"card-header"},"Manage Booking",-1)),t("div",N,[t("table",T,[n[1]||(n[1]=t("thead",null,[t("tr",null,[t("th",null,"No."),t("th",null,"Title"),t("th",null,"Description"),t("th",null,"Date & Time"),t("th",null,"Delete")])],-1)),t("tbody",null,[(i(!0),o(y,null,S(e.logs,(s,l)=>(i(),o("tr",{key:l},[t("td",null,a(l+1),1),t("td",null,a(s==null?void 0:s.title),1),t("td",null,a(s==null?void 0:s.activity),1),t("td",null,a(s==null?void 0:s.created_at),1),t("td",null,[t("button",{class:"btn btn-danger btn-sm",onClick:I=>e.deleteLogs(s)},"Delete",8,H)])]))),128))])])])])])])])])])}const j=b(v,[["render",V]]);export{j as default};
