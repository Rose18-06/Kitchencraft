import{d as v,g as _,q as S,a as f,v as b,_ as u,c as r,b as t,r as w,x,I as $,y as C,A as D,o as p,t as o}from"./index-bpNO_8uP.js";import{S as I,a as k}from"./SectionHeader-C4vtWxD-.js";import{S as c}from"./sweetalert2.esm.all-DzlfzZPw.js";const B=v({components:{SectionSidebar:k,SectionHeader:I},data(){return{admin:{},inquiries:{}}},methods:{async fetchFetch(){await f.get(b().api_main+"inquiry/fetchAll").then(async s=>{this.inquiries=s.data})},async deleteInquiry(s){await _().then(async a=>{(a==null?void 0:a.role)==1?c.fire({title:"Success",text:"Delete inquiry of "+(s==null?void 0:s.name)+"?",icon:"question",showCancelButton:!0,confirmButtonText:"Delete"}).then(async h=>{h.isConfirmed&&await f.get(b().api_main+"inquiry/delete?dataid="+(s==null?void 0:s.dataid)).then(async n=>{var d,i,l;(d=n.data)!=null&&d.success?c.fire({title:"Success",text:(i=n.data)==null?void 0:i.message,icon:"success"}).then(async()=>{await this.fetchFetch()}):c.fire({title:"Warning",text:(l=n.data)==null?void 0:l.message,icon:"warning"})})}):c.fire({title:"Action denied",text:"Only administrator level has permission to delete",icon:"error"})})}},async mounted(){await _().then(async s=>{s?(this.admin=s,await this.fetchFetch().then(async()=>{console.log("Inquiry:",S(this.$data))})):this.$router.replace("/")})}}),F={class:"layout-wrapper layout-content-navbar"},N={class:"layout-container"},A={class:"layout-page"},H={class:"content-wrapper"},M={class:"container-xxl flex-grow-1 container-p-y"},V={class:"card"},L={class:"table-responsive text-nowrap"},O={class:"table"},T={class:"table-border-bottom-0"},j={class:"p-0 m-0"},E={class:"p-0 m-0"},R={class:"p-0 m-0 text-wrap text-primary"},U={class:"p-0 m-0 text-wrap"},W=["onClick"];function z(s,a,h,n,d,i){const l=x("SectionSidebar"),g=x("SectionHeader");return p(),r("div",F,[t("div",N,[w(l),t("div",A,[w(g,{onOpen_notif:a[0]||(a[0]=()=>{s.$emit("open_notif")})}),t("div",H,[t("div",M,[a[3]||(a[3]=t("h4",{class:"fw-bold py-3 mb-4"},[t("span",{class:"text-muted fw-light"},"Inquiry /"),$(" Masterlist")],-1)),t("div",V,[a[2]||(a[2]=t("h5",{class:"card-header"},"Manage Inquiry",-1)),t("div",L,[t("table",O,[a[1]||(a[1]=t("thead",null,[t("tr",null,[t("th",{style:{width:"50px"}},"No."),t("th",null,"Sender"),t("th",null,"Message"),t("th",null,"Date"),t("th",{style:{width:"100px"}},"Delete")])],-1)),t("tbody",T,[(p(!0),r(C,null,D(s.inquiries,(e,m)=>(p(),r("tr",{key:m},[t("td",null,o(m+1),1),t("td",null,[t("div",null,[t("p",j,o(e==null?void 0:e.name),1),t("p",E,[t("small",null,o(e==null?void 0:e.email),1)])])]),t("td",null,[t("div",null,[t("p",R,[t("b",null,o(e==null?void 0:e.subject),1)]),t("p",U,[t("small",null,o(e==null?void 0:e.message),1)])])]),t("td",null,o(e==null?void 0:e.created_at),1),t("td",null,[t("button",{class:"btn btn-danger btn-sm",onClick:G=>s.deleteInquiry(e)},"Delete",8,W)])]))),128))])])])])])])])])])}const Q=u(B,[["render",z]]);export{Q as default};
