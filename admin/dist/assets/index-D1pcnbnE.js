import{d as l,g as d,a as m,v as c,$ as p,l as f,_ as u,c as g,b as s,w as n,e as r,o as b}from"./index-bpNO_8uP.js";import{S as h}from"./sweetalert2.esm.all-DzlfzZPw.js";const w=l({name:"LoginPage",data(){return{loading:!1,form:{email:"",password:""}}},methods:{async login(){await m.get(c().api_main+"users_system/login?"+p.param(this.form)).then(async o=>{var a,e,i;this.loading=!1,(a=o.data)!=null&&a.success?(f.set("user-admin",(e=o.data)==null?void 0:e.profile,{encrypt:!0}),this.$router.push("/dashboard")):h.fire({title:"Warning",text:(i=o.data)==null?void 0:i.message,icon:"warning"}).then(async()=>{this.form.email="",this.form.password=""})})}},async mounted(){await d().then(async o=>{o&&this.$router.replace("/dashboard")})}}),v={class:"container-xxl"},y={class:"authentication-wrapper authentication-basic container-p-y"},_={class:"authentication-inner"},x={class:"card"},$={class:"card-body"},k={id:"formAuthentication",class:"mb-3"},U={class:"mb-3"},B={class:"mb-3 form-password-toggle"},S={class:"mb-3"};function V(o,a,e,i,C,E){return b(),g("div",v,[s("div",y,[s("div",_,[s("div",x,[s("div",$,[a[5]||(a[5]=s("div",{class:"py-4"},[s("h1",{class:"text-center p-0 m-0 text-danger"},"Undercater"),s("h4",{class:"text-center p-0 m-0"},"Welcome back ðŸ‘‹")],-1)),s("div",k,[s("div",U,[a[3]||(a[3]=s("label",{for:"email",class:"form-label"},"Email",-1)),n(s("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>o.form.email=t),type:"text",class:"form-control form-control-lg",id:"email",name:"email-username",autofocus:""},null,512),[[r,o.form.email]])]),s("div",B,[a[4]||(a[4]=s("label",{class:"form-label",for:"password"},"Password",-1)),n(s("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>o.form.password=t),type:"password",id:"password",class:"form-control form-control-lg",name:"password"},null,512),[[r,o.form.password]])]),s("div",S,[s("button",{class:"btn btn-primary d-grid w-100",onClick:a[2]||(a[2]=t=>o.login())},"Sign in")])])])])])])])}const W=u(w,[["render",V]]);export{W as default};
