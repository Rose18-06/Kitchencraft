import{d as u,_ as v,c as f,b as t,G as $,o as b,g as S,q as R,a as M,v as r,$ as p,r as a,x as i,I as k,w as d,K as m,W as c}from"./index-bpNO_8uP.js";import{S as x,a as C}from"./SectionHeader-C4vtWxD-.js";import"./sweetalert2.esm.all-DzlfzZPw.js";const B=u({props:{open:{default:!1,type:Boolean}},data(){return{}},methods:{closeModal(){this.$emit("closed")}}}),P={class:"modal-dialog modal-lg",role:"document"},V={class:"modal-content"},D={class:"modal-footer"};function N(e,o,n,h,y,w){return b(),f("div",{class:$(["modal fade",{show:e.open,display:e.open}]),tabindex:"-1",role:"dialog"},[t("div",P,[t("div",V,[o[2]||(o[2]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Booking Details")],-1)),o[3]||(o[3]=t("hr",null,null,-1)),o[4]||(o[4]=t("iframe",{src:"http://localhost:5173/",style:{height:"calc(100vh - 250px)"}},null,-1)),t("div",D,[t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:o[0]||(o[0]=l=>e.closeModal())},"Close"),o[1]||(o[1]=t("button",{type:"button",class:"btn btn-primary"},"Save",-1))])])])],2)}const H=v(B,[["render",N],["__scopeId","data-v-428ba13e"]]),T=u({components:{ModalPrintReport:H,SectionSidebar:C,SectionHeader:x},data(){return{admin:{},modal_open:!1,scope:"daily",reports:{},form:{month:"01",year:"2024"}}},methods:{async generateReport(){var e=r().api_main+"booking/reportPDF?"+p.param(this.form);p("iframe").attr("src",e)},async onScopeChanged(){await this.fetchReport()},async fetchReport(){await M.get(r().api_main+"booking/report?scope="+this.scope).then(async e=>{this.reports=e.data})},printTable(){const e=document.getElementById("printable-report-booking");if(e){const o=e.outerHTML,n=window.open("","","height=600,width=800");n&&(n.document.write("<html><head><title>Print Table</title>"),n.document.write("<style>table {width: 100%; border-collapse: collapse;} th, td {border: 1px solid black; padding: 8px; text-align: left;}</style>"),n.document.write("</head><body>"),n.document.write(o),n.document.write("</body></html>"),n.document.close(),n.print())}}},async mounted(){await S().then(async e=>{e?(this.admin=e,await this.fetchReport().then(async()=>{console.log("Reports:",R(this.$data))})):this.$router.replace("/")})}}),F={class:"layout-wrapper layout-content-navbar"},I={class:"layout-container"},J={class:"layout-page"},U={class:"content-wrapper"},A={class:"container-xxl flex-grow-1 container-p-y"},E={class:"row"},G={class:"col-4"},L={class:"card"},O={class:"card-body"},W={class:"form-group row"},j={class:"col-sm-9"},q={class:"form-group row mt-4"},z={class:"col-sm-9"},K={class:"d-flex justify-content-end mt-4"};function Y(e,o,n,h,y,w){const l=i("SectionSidebar"),g=i("SectionHeader"),_=i("ModalPrintReport");return b(),f("div",F,[t("div",I,[a(l),t("div",J,[a(g,{onOpen_notif:o[0]||(o[0]=()=>{e.$emit("open_notif")})}),t("div",U,[t("div",A,[t("div",E,[t("div",G,[t("div",L,[t("div",O,[o[9]||(o[9]=t("h4",{class:"fw-bold py-3 mb-4"},[t("span",{class:"text-muted fw-light"},"Reports /"),k(" Masterlist")],-1)),t("div",W,[o[6]||(o[6]=t("label",{for:"report-month",class:"col-sm-3 col-form-label"},"Month",-1)),t("div",j,[d(t("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.month=s),class:"form-control",id:"report-month"},[...o[5]||(o[5]=[c('<option value="01">January</option><option value="02">February</option><option value="03">March</option><option value="04">April</option><option value="05">May</option><option value="06">June</option><option value="07">July</option><option value="08">August</option><option value="09">September</option><option value="10">October</option><option value="11">November</option><option value="12">December</option>',12)])],512),[[m,e.form.month]])])]),t("div",q,[o[8]||(o[8]=t("label",{for:"report-month",class:"col-sm-3 col-form-label"},"Year",-1)),t("div",z,[d(t("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.year=s),class:"form-control",id:"report-month"},[...o[7]||(o[7]=[c('<option value="2024">2024</option><option value="2025">2025</option><option value="2026">2026</option><option value="2027">2027</option><option value="2028">2028</option><option value="2029">2029</option><option value="2030">2030</option>',7)])],512),[[m,e.form.year]])])]),t("div",K,[t("button",{class:"btn btn-primary w-50",onClick:o[3]||(o[3]=s=>e.generateReport())},"Generate Report")])])])]),o[10]||(o[10]=t("div",{class:"col-8"},[t("iframe",{style:{width:"100%","min-height":"calc(100vh - 120px)"},src:"https://api.undercater.com/ver-1/public/api/booking/reportPDF?month=12&year=2024"})],-1))])])])])]),a(_,{open:e.modal_open,onClosed:o[4]||(o[4]=()=>{e.modal_open=!1})},null,8,["open"])])}const oo=v(T,[["render",Y]]);export{oo as default};
