import{a as u,v as g}from"./index-voVhswPz.js";import{S as v,b as _,d as w,l as h,c as b,_ as y}from"./SectionFooter-p82ZZrBf.js";import{$ as S}from"./jquery-DvzhgAK6.js";import{d as $,c as x,f as i,a as s,r,g as l,v as d,t as k,b as c,w as V,o as C}from"./index-cvgqalPm.js";const L=$({name:"LoginPage",components:{SectionFooter:_,SectionHeader:v},data(){return{loading:!1,form:{email:"",password:""}}},methods:{async login(){this.loading=!0,await u.get(g().api_main+"users_customer/login?"+S.param(this.form)).then(async e=>{var o,a,n;this.loading=!1,(o=e.data)!=null&&o.success?(h.set("user",(a=e.data)==null?void 0:a.profile,{encrypt:!0}),this.$router.push("/events")):b.fire({title:"Warning",text:(n=e.data)==null?void 0:n.message,icon:"warning"}).then(async()=>{this.form.email="",this.form.password=""})})}},async mounted(){await w().then(async e=>{console.log(e)})}}),B={class:"main"},D={class:"content"},F={class:"container"},H={class:"py-5 my-5"},N={class:"row justify-content-center"},P={class:"col-md-5"},U={class:"card shadow-card"},j={class:"card-body py-5"},q={class:"mb-3"},E={class:"mb-3"},T={class:"d-flex justify-content-end"},I=["disabled"],M={class:"card-footer text-center"};function R(e,o,a,n,W,z){const m=r("SectionHeader"),f=r("router-link"),p=r("SectionFooter");return C(),x("div",null,[i(m),s("main",B,[s("div",D,[s("div",F,[s("div",H,[s("div",N,[s("div",P,[s("div",U,[o[7]||(o[7]=s("div",{class:"card-header text-center"},[s("h5",{class:"text-center"},[s("strong",null,"Login")])],-1)),s("div",j,[s("div",null,[s("div",q,[o[3]||(o[3]=s("label",{for:"email",class:"form-label"},"Email address",-1)),l(s("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>e.form.email=t),type:"email",class:"form-control form-control-lg",id:"email",name:"email",required:""},null,512),[[d,e.form.email]])]),s("div",E,[o[4]||(o[4]=s("label",{for:"password",class:"form-label"},"Password",-1)),l(s("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>e.form.password=t),type:"password",class:"form-control form-control-lg",id:"password",name:"password",required:""},null,512),[[d,e.form.password]])]),s("div",T,[s("button",{class:"btn btn-login w-50",onClick:o[2]||(o[2]=t=>e.login()),disabled:e.loading},k(e.loading?"Please wait...":"Login"),9,I)])])]),s("div",M,[s("small",null,[o[6]||(o[6]=c(" Don't have an account? ",-1)),i(f,{to:"/registration"},{default:V(()=>[...o[5]||(o[5]=[c("Register here",-1)])]),_:1})])])])])])])])]),i(p)])])}const O=y(L,[["render",R],["__scopeId","data-v-d2163f20"]]);export{O as default};
